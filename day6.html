<html>
  <body>
    YO
    <script>
      const input = [
        4,
        1,
        15,
        12,
        0,
        9,
        9,
        5,
        5,
        8,
        7,
        3,
        14,
        5,
        12,
        3
      ]

      // const input = [0,
      //               2,
      //               7,
      //               0,60
      //               ]
      // const input = [2,
      //               4,
      //               1,
      //               2,16]
      // const input = [3,
      //               1,
      //               2,
      //               3]
      // const input = [0,
      //               2,
      //               3,
      //               4]
      // const input = [1,
      //               3,
      //               4,
      //               1]

      redistribute = (input, largest, indexOfLargest) => {
        input[indexOfLargest] = 0
        while (largest > 0) {
          indexOfLargest + 1 == input.length ? indexOfLargest = 0 : indexOfLargest += 1
          input[indexOfLargest] += 1
          largest -= 1
        }
        return input
      }

      oneStep = (input) => {
        largest = Math.max(...input);
        indexOfLargest = input.indexOf(largest)
        return input = redistribute(input, largest, indexOfLargest)
      }

      valueInArrayTwice = a => {
        //based on last value being the newest one
        for (var i=0; i<a.length - 1;i++) {
          if (a[i].toString() == a[a.length - 1].toString() ){
            console.log('part2: ')
            console.log(`solution = ${a.length - 1 - i}`)
            return true
          }
        }
        return false
      }

      flow = (input) => {
        let results = [input]
        let value = input
        while ( !valueInArrayTwice(results) ){
          value = oneStep([...value])
          results.push(value)
        }
        return results.length - 1
      }
      console.log(flow(input))

    </script>
  </body>
</html>
